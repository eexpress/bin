# 点阵字模

## 区位码
GB 2312

总量 94×94=8836，包含6763 个汉字。

## HZK16 和 HZK12

例如

汉字“房”的机内码为十六进制的“B7BF”，其中“B7”表示区码，“BF”表示位码。

所以“房”的区位码为0B7BFH-0A0A0H=171FH。

将区码和位码分别转换为十进制得汉字“房”的区位码为“23，31”，

即“房”的点阵位于第23区的第31个字的位置，相当于在文件HZK16中的位置为

第32×[(23-1) ×94+(31-1)]=67136B以后的32个字节为“房”的显示点阵。

16点的数据排列：
1 2
3 4
5 6
....
29 30
31 32

16点阵：每个字模占 32 个字节。

12点阵：每个字模占 24 个字节。

24点阵字体，数据是垂直镜像排列，而且转了90度。

设区位码为XY，首先取出X和Y；计算给定字符的图形块的首地址：A：=(((X-1)-128)\*94+(Y-1))\*32；从A开始取32个字节，即可。
```
unsigned int area = str[0] - 0xA1; // 参考	HZK16的使用方法 这样可以得到需显示字符的区码和位码
unsigned int where = str[1] - 0xA1; //
unsigned char *dots = hzkmem + (area * 94 + where)*32; //点阵位置每个区有94个字符，每个字符占据32个字节
```

## Unicode 和 UTF-8

字节数|说明|起始|终止|Byte 1|Byte 2|Byte 3|Byte 4
--|--|--|--|--|--|--|--
1|ASCII区域|U+0000|U+007F|0xxxxxxx|
2|其他文字|U+0080|U+07FF|110yyyxx|10xxxxxx
3|中文CJK区域|U+0800|U+FFFF|1110<font color=red>yyyy</font>|10<font color=red>yyyy</font>xx|10xxxxxx
4|几乎无用的表情符号|U+10000|U+10FFFF|11110zzz|10zzyyyy|10yyyyxx|10xxxxxx

- 2字节的Unicode，即UCS-2。
- 以上3字节UTF-8行的 yyyyyyyy xxxxxxxx 即2字节中文unicode拼接位置。
- Byte 1用于判断也方便，前缀的1有几个，即表示几个字节，构成当前UTF-8字符。
